{"ast":null,"code":"import _slicedToArray from\"/home/giannism/Desktop/ergasia_sept_katan/MyVts-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link,useParams,useNavigate}from\"react-router-dom\";import OfficeService from\"../services/OfficeService\";import AuthService from\"../services/AuthService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddGovOfficeComponent=function AddGovOfficeComponent(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),address=_useState2[0],setAddress=_useState2[1];var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;var saveOffice=function saveOffice(e){e.preventDefault();var officeData={address:address};if(id){OfficeService.update(id,officeData).then(function(response){console.log(response.data);var user=AuthService.getCurrentUser();if(user.roles.includes(\"ROLE_ADMIN\")){navigate(\"/offices\");}}).catch(function(error){console.log(error);});}else{OfficeService.save(officeData).then(function(response){console.log(response.data);var user=AuthService.getCurrentUser();if(user.roles.includes(\"ROLE_ADMIN\")){navigate(\"/offices\");}}).catch(function(error){console.log(error);});}};useEffect(function(){if(id){OfficeService.getOfficeById(id).then(function(response){setAddress(response.data.address);}).catch(function(error){console.log(error);});}},[id]);var title=function title(){if(id){return/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\" Update Office\"});}else{return/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\" Add Office\"});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card col-md-6 offset-md-3 offset-md-3\",children:[title(),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\" Address :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Address\",name:\"address\",className:\"form-control\",value:address,onChange:function onChange(e){return setAddress(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-success\",onClick:function onClick(e){return saveOffice(e);},children:[\" \",\"Submit\"]}),/*#__PURE__*/_jsxs(Link,{to:\"/offices\",className:\"btn btn-outline-danger\",style:{marginLeft:\"10px\"},children:[\" \",\"Cancel\"]})]})})]})})})]});};export default AddGovOfficeComponent;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","useNavigate","OfficeService","AuthService","jsx","_jsx","jsxs","_jsxs","AddGovOfficeComponent","_useState","_useState2","_slicedToArray","address","setAddress","navigate","_useParams","id","saveOffice","e","preventDefault","officeData","update","then","response","console","log","data","user","getCurrentUser","roles","includes","catch","error","save","getOfficeById","title","className","children","type","placeholder","name","value","onChange","target","onClick","to","style","marginLeft"],"sources":["/home/giannism/Desktop/ergasia_sept_katan/MyVts-frontend/src/components/AddGovOfficeComponent.js"],"sourcesContent":["import React, { useState , useEffect} from \"react\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport OfficeService from \"../services/OfficeService\";\nimport AuthService from \"../services/AuthService\";\n\nconst AddGovOfficeComponent = () => {\n  const [address, setAddress] = useState(\"\");\n  const navigate = useNavigate();\n  const { id } = useParams();\n\n  const saveOffice = (e) => {\n    e.preventDefault();\n\n    const officeData = { address };\n\n    if (id) {\n      OfficeService.update(id, officeData)\n        .then((response) => {\n          console.log(response.data);\n \n          const user = AuthService.getCurrentUser();\n          if (user.roles.includes(\"ROLE_ADMIN\")) {\n            navigate(\"/offices\");\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    } else {\n      OfficeService.save(officeData)\n        .then((response) => {\n          console.log(response.data);\n\n          const user = AuthService.getCurrentUser();\n          if (user.roles.includes(\"ROLE_ADMIN\")) {\n            navigate(\"/offices\");\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  };\n\n  useEffect(() => {\n    if (id) {\n      OfficeService.getOfficeById(id)\n        .then((response) => {\n          setAddress(response.data.address);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }, [id]);\n  const title = () => {\n    if (id) {\n      return <h2 className=\"text-center\"> Update Office</h2>;\n    } else {\n      return <h2 className=\"text-center\"> Add Office</h2>;\n    }\n  };\n\n  return (\n    <div>\n      <br />\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"card col-md-6 offset-md-3 offset-md-3\">\n            {title()}\n            <div className=\"card-body\">\n              <form>\n                <div className=\"form-group mb-2\">\n                  <label className=\"form-label\"> Address :</label>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Enter Address\"\n                    name=\"address\"\n                    className=\"form-control\"\n                    value={address}\n                    onChange={(e) => setAddress(e.target.value)}\n                  />\n                </div>\n\n                <button\n                  className=\"btn btn-outline-success\"\n                  onClick={(e) => saveOffice(e)}\n                >\n                  {\" \"}\n                  Submit\n                </button>\n                <Link\n                  to=\"/offices\"\n                  className=\"btn btn-outline-danger\"\n                  style={{ marginLeft: \"10px\" }}\n                >\n                  {\" \"}\n                  Cancel\n                </Link>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddGovOfficeComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}