{"ast":null,"code":"import _slicedToArray from\"/home/giannism/Desktop/ergasia_sept_katan/MyVts-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import SellerService from\"../services/SellerService\";import{useParams,useNavigate}from\"react-router-dom\";import BuyerService from\"../services/BuyerService\";import AuthService from\"../services/AuthService\";import TransactionService from\"../services/TransactionService\";import OfficeService from\"../services/OfficeService\";// Import OfficeService\nimport{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateTransactionComponent=function UpdateTransactionComponent(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),transaction=_useState2[0],setTransaction=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),address=_useState6[0],setAddress=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),buyerVAT=_useState8[0],setBuyerVAT=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),buyerId=_useState10[0],setBuyerId=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),offices=_useState12[0],setOffices=_useState12[1];var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;useEffect(function(){OfficeService.getAllOffices().then(function(response){setOffices(response.data);}).catch(function(error){console.log(error);});if(id){TransactionService.getTransactionById(id).then(function(response){setStatus(response.data.status);setAddress(response.data.address);setBuyerVAT(response.data.buyerVAT);}).catch(function(error){console.log(error);});}},[id]);var updateTransaction=function updateTransaction(e){e.preventDefault();var newTransaction={status:status,address:address,buyerVAT:buyerVAT,buyerId:buyerId};if(id){TransactionService.update(id,newTransaction).then(function(response){console.log(response.data);navigate(\"/sellers\");}).catch(function(error){console.log(error);});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card col-md-6 offset-md-3 offset-md-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\" Update Transaction\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\" Status :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Status\",name:\"status\",className:\"form-control\",value:status,onChange:function onChange(e){return setStatus(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\" Address:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:address,onChange:function onChange(e){return setAddress(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select an address\"}),offices.map(function(office){return/*#__PURE__*/_jsx(\"option\",{value:office.address,children:office.address},office.id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\" Buyer VAT Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Buyer VAT Number\",name:\"buyerVAT\",className:\"form-control\",value:buyerVAT,onChange:function onChange(e){return setBuyerVAT(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-success\",onClick:function onClick(e){return updateTransaction(e);},children:[\" \",\"Submit\"]}),/*#__PURE__*/_jsx(Link,{to:\"/sellers\",className:\"btn btn-outline-danger\",style:{marginLeft:\"10px\"},children:\"Cancel\"})]})})]})})})]});};export default UpdateTransactionComponent;","map":{"version":3,"names":["React","useEffect","useState","SellerService","useParams","useNavigate","BuyerService","AuthService","TransactionService","OfficeService","Link","jsx","_jsx","jsxs","_jsxs","UpdateTransactionComponent","_useState","_useState2","_slicedToArray","transaction","setTransaction","_useState3","_useState4","status","setStatus","_useState5","_useState6","address","setAddress","_useState7","_useState8","buyerVAT","setBuyerVAT","_useState9","_useState10","buyerId","setBuyerId","_useState11","_useState12","offices","setOffices","navigate","_useParams","id","getAllOffices","then","response","data","catch","error","console","log","getTransactionById","updateTransaction","e","preventDefault","newTransaction","update","children","className","type","placeholder","name","value","onChange","target","map","office","onClick","to","style","marginLeft"],"sources":["/home/giannism/Desktop/ergasia_sept_katan/MyVts-frontend/src/components/UpdateTransactionComponent.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport SellerService from \"../services/SellerService\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport BuyerService from \"../services/BuyerService\";\nimport AuthService from \"../services/AuthService\";\nimport TransactionService from \"../services/TransactionService\";\nimport OfficeService from \"../services/OfficeService\"; // Import OfficeService\nimport { Link } from \"react-router-dom\";\n\nconst UpdateTransactionComponent = () => {\n  const [transaction, setTransaction] = useState([]);\n  const [status, setStatus] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [buyerVAT, setBuyerVAT] = useState();\n  const [buyerId, setBuyerId] = useState();\n  const [offices, setOffices] = useState([]); \n  const navigate = useNavigate();\n  const { id } = useParams();\n\n  useEffect(() => {\n    \n    OfficeService.getAllOffices()\n      .then((response) => {\n        setOffices(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n\n    if (id) {\n      TransactionService.getTransactionById(id)\n        .then((response) => {\n          setStatus(response.data.status);\n          setAddress(response.data.address);\n          setBuyerVAT(response.data.buyerVAT);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }, [id]);\n\n  const updateTransaction = (e) => {\n    e.preventDefault();\n\n    const newTransaction = {\n      status: status,\n      address: address,\n      buyerVAT: buyerVAT,\n      buyerId: buyerId,\n    };\n\n    if (id) {\n      TransactionService.update(id, newTransaction)\n        .then((response) => {\n          console.log(response.data);\n          navigate(\"/sellers\");\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <br></br>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"card col-md-6 offset-md-3 offset-md-3\">\n            <h2 className=\"text-center\"> Update Transaction</h2>\n            <div className=\"card-body\">\n              <form>\n              <div className=\"form-group mb-2\">\n                  <label className=\"form-label\"> Status :</label>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Enter Status\"\n                    name=\"status\"\n                    className=\"form-control\"\n                    value={status}\n                    onChange={(e) => setStatus(e.target.value)}\n                  ></input>\n                </div>\n                \n                <div className=\"form-group mb-2\">\n                  <label className=\"form-label\"> Address:</label>\n                  <select\n                    className=\"form-control\"\n                    value={address}\n                    onChange={(e) => setAddress(e.target.value)}\n                  >\n                    <option value=\"\">Select an address</option>\n                    {offices.map((office) => (\n                      <option key={office.id} value={office.address}>\n                        {office.address}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"form-group mb-2\">\n                  <label className=\"form-label\"> Buyer VAT Number:</label>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Enter Buyer VAT Number\"\n                    name=\"buyerVAT\"\n                    className=\"form-control\"\n                    value={buyerVAT}\n                    onChange={(e) => setBuyerVAT(e.target.value)}\n                  ></input>\n                </div>     \n\n                <button\n                  className=\"btn btn-outline-success\"\n                  onClick={(e) => updateTransaction(e)}\n                >\n                  {\" \"}\n                  Submit\n                </button>\n                <Link\n                  to={`/sellers`}\n                  className=\"btn btn-outline-danger\"\n                  style={{ marginLeft: \"10px\" }}\n                >\n                  Cancel\n                </Link>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UpdateTransactionComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}