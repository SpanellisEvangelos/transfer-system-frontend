{"ast":null,"code":"import axios from\"axios\";import authHeader from\"./authHeader\";var API_URL=\"http://localhost:8080/api/auth/\";var register=function register(username,email,password,role){return axios.post(API_URL+\"signup\",{username:username,email:email,password:password,role:[\"buyer\"]},{headers:authHeader()});};var login=function login(username,password){return axios.post(API_URL+\"signin\",{username:username,password:password}).then(function(response){if(response.data.accessToken){localStorage.setItem(\"user\",JSON.stringify(response.data));}return response.data;});};var logout=function logout(){localStorage.removeItem(\"user\");};var getCurrentUser=function getCurrentUser(){return JSON.parse(localStorage.getItem(\"user\"));};var AuthService={register:register,login:login,logout:logout,getCurrentUser:getCurrentUser};export default AuthService;","map":{"version":3,"names":["axios","authHeader","API_URL","register","username","email","password","role","post","headers","login","then","response","data","accessToken","localStorage","setItem","JSON","stringify","logout","removeItem","getCurrentUser","parse","getItem","AuthService"],"sources":["/home/giannism/Desktop/ergasia_sept_katan/MyVts-frontend/src/services/AuthService.js"],"sourcesContent":["import axios from \"axios\";\nimport authHeader from \"./authHeader\";\n\nconst API_URL = \"http://localhost:8080/api/auth/\";\n\nconst register = (username, email, password, role) => {\n  return axios.post(\n    API_URL + \"signup\",\n    {\n      username,\n      email,\n      password,\n      role: [\"buyer\"],\n    },\n    { headers: authHeader() }\n  );\n};\n\nconst login = (username, password) => {\n  return axios\n    .post(API_URL + \"signin\", {\n      username,\n      password,\n    })\n    .then((response) => {\n      if (response.data.accessToken) {\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\n      }\n\n      return response.data;\n    });\n};\n\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n};\n\nconst getCurrentUser = () => {\n  return JSON.parse(localStorage.getItem(\"user\"));\n};\n\nconst AuthService = {\n  register,\n  login,\n  logout,\n  getCurrentUser,\n};\n\nexport default AuthService;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,cAAc,CAErC,GAAM,CAAAC,OAAO,CAAG,iCAAiC,CAEjD,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,QAAQ,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,IAAI,CAAK,CACpD,MAAO,CAAAP,KAAK,CAACQ,IAAI,CACfN,OAAO,CAAG,QAAQ,CAClB,CACEE,QAAQ,CAARA,QAAQ,CACRC,KAAK,CAALA,KAAK,CACLC,QAAQ,CAARA,QAAQ,CACRC,IAAI,CAAE,CAAC,OAAO,CAChB,CAAC,CACD,CAAEE,OAAO,CAAER,UAAU,CAAC,CAAE,CAC1B,CAAC,CACH,CAAC,CAED,GAAM,CAAAS,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAIN,QAAQ,CAAEE,QAAQ,CAAK,CACpC,MAAO,CAAAN,KAAK,CACTQ,IAAI,CAACN,OAAO,CAAG,QAAQ,CAAE,CACxBE,QAAQ,CAARA,QAAQ,CACRE,QAAQ,CAARA,QACF,CAAC,CAAC,CACDK,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAIA,QAAQ,CAACC,IAAI,CAACC,WAAW,CAAE,CAC7BC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACN,QAAQ,CAACC,IAAI,CAAC,CAAC,CAC7D,CAEA,MAAO,CAAAD,QAAQ,CAACC,IAAI,CACtB,CAAC,CAAC,CACN,CAAC,CAED,GAAM,CAAAM,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACnBJ,YAAY,CAACK,UAAU,CAAC,MAAM,CAAC,CACjC,CAAC,CAED,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3B,MAAO,CAAAJ,IAAI,CAACK,KAAK,CAACP,YAAY,CAACQ,OAAO,CAAC,MAAM,CAAC,CAAC,CACjD,CAAC,CAED,GAAM,CAAAC,WAAW,CAAG,CAClBrB,QAAQ,CAARA,QAAQ,CACRO,KAAK,CAALA,KAAK,CACLS,MAAM,CAANA,MAAM,CACNE,cAAc,CAAdA,cACF,CAAC,CAED,cAAe,CAAAG,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}